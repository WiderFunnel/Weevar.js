!function(window,document){Weevar.initialized=!1,Weevar.addHeaderElement=function(e,a,r){r=window.document.head,a=window.document.createElement("link"),a.rel="stylesheet",a.type="text/css",a.id="weevar-css",a.href=e,r.appendChild(a)},Weevar.addHeaderElement(Weevar.site.data.cssBundleUrl),eval(Weevar.site.data.javascript),Weevar.config={queryParams:{experiment:"wee_x",variation:"wee_var"},localStorage:{location:"weevar_location",bucket:"weevar_bucket"},integrations:{googleAnalytics:"ga",hotjar:"hj"},cookie:{key:"weevar_experiment_",expiration:(new Date).setTime((new Date).getTime()+189216e5)}},Weevar.env={url:window.location,viewport:{width:window.innerWidth,height:window.innerHeight,cookies:document.cookie,userAgent:navigator.userAgent},visitor:{forcedQueryParams:null,bucket:null,doNotTrack:null,variations:[]}},Weevar.calculateTrackingDates=function(){var e=new Date,a=e.getTime();return e.setTime(e.getTime()+189216e5),{time:a,expires:e.toUTCString()}},Weevar.trackingStart=Weevar.calculateTrackingDates(),Weevar.generateGuid=function(){return"W-"+Weevar.trackingStart.time+"-"+parseInt(Math.floor(9e4*Math.random())+1e4)},Weevar.store=function(e,a){document.cookie=e+" = "+a+"; domain = "+Weevar.env.url.hostname+"; path = /; expires = "+Weevar.trackingStart.expires},Weevar.readStorage=function(e){for(var a=Weevar.env.viewport.cookies.split("; "),r=0;r<a.length;r++)if(a[r].search(e)>-1){var t=a[r].split("=")[1];return isNaN(t)?t:Number(t)}return!1},Weevar.guessLocation=function(){if(!localStorage.getItem(Weevar.config.localStorage.location)&&!document.getElementById(Weevar.config.localStorage.location)){console.info("Search location");var e=window.document.head,a=window.document.createElement("script");a.id=Weevar.config.localStorage.location,a.src="https://pro.ip-api.com/json?callback=Weevar.setLocation",e.appendChild(a)}},Weevar.setLocation=function(e){localStorage.setItem(Weevar.config.localStorage.location,JSON.stringify(e))},Weevar.isBetween=function(e,a,r){return r<0||e>=a&&e<=r},Weevar.getQueryParam=function(e){for(var a=Weevar.env.url.search.substr(1).split("&"),r=0;r<a.length;r++)if(a[r].split("=")[0]===e){var t=a[r].split("=")[1];return isNaN(t)?t:Number(t)}return null},Weevar.checkForcedQueryParams=function(){return{experiment:Weevar.getQueryParam(Weevar.config.queryParams.experiment),variation:Weevar.getQueryParam(Weevar.config.queryParams.variation)}},Weevar.getTrafficBucket=function(){var e=Weevar.readStorage(Weevar.config.localStorage.bucket);return null!=e&&e!==!1||(e=Math.floor(100*Math.random()),Weevar.store(Weevar.config.localStorage.bucket,e)),e},Weevar.getExperimentBucket=function(){return parseFloat((100*Math.random()).toFixed(2))},Weevar.qualifyUserAgent=function(e){return!e.userAgent||!!Weevar.env.viewport.userAgent.match(e.userAgent)},Weevar.qualifyUrl=function(e){if(null!=e.excludeUrls&&e.excludeUrls.length>0)for(var a in e.excludeUrls)if(Weevar.env.url.href.match(e.excludeUrls[a].toString()))return!1;if(null!=e.includeUrls&&e.includeUrls.length>0){if("*"===e.includeUrls[0]||"*"===e.includeUrls[0])return!0;for(var a in e.includeUrls)if(Weevar.env.url.href.match(e.includeUrls[a].toString()))return!0}return!1},Weevar.qualifyViewport=function(e){return null!=e.viewport.height&&null!=e.viewport.height.min&&null!=e.viewport.height.max?Weevar.isBetween(Weevar.env.viewport.width,e.viewport.width.min,e.viewport.width.max)&&Weevar.isBetween(Weevar.env.viewport.height,e.viewport.height.min,e.viewport.height.max):Weevar.isBetween(Weevar.env.viewport.width,e.viewport.width.min,e.viewport.width.max)},Weevar.qualifyForcedQueryParams=function(e){if(null!=Weevar.env.visitor.forcedQueryParams&&null!=Weevar.env.visitor.forcedQueryParams.experiment&&null!=Weevar.env.visitor.forcedQueryParams.variation)return e.id===Weevar.env.visitor.forcedQueryParams.experiment},Weevar.qualifyTrafficRange=function(e){return Weevar.isBetween(Weevar.env.visitor.bucket,e.trafficPercentage[0],e.trafficPercentage[1])},Weevar.qualifyStatus=function(e,a){var a=a||["active","live","running"];return a.indexOf(e.status)>=0},Weevar.qualifyStorage=function(e){var a=Weevar.readStorage(Weevar.config.cookie.key+e.id);if(a!==!1)for(var r=0;r<e.variations.data.length;r++)if(e.variations.data[r].id==a)return r;return!1},Weevar.alreadyRunning=function(e,a){return null!=a?e.running===!0&&a.running===!0:e.running===!0},Weevar.hasExperimentInStorage=function(e){return Weevar.readStorage(Weevar.config.cookie.key+e.id)},Weevar.integrateGoogleAnalytics=function(e,a){if(Weevar.site.data.integrations.googleAnalytics&&e.integrations&&e.integrations.googleAnalytics&&window.ga){var r=Weevar.site.data.integrations.googleAnalytics.trackerId||window.ga.getAll()[0].b.data.values[":trackingId"],t=Weevar.site.data.integrations.googleAnalytics.trackerName||window.ga.getAll()[0].b.data.values[":name"],n=e.integrations.googleAnalytics.customDimensionSlot||Weevar.site.data.integrations.googleAnalytics.defaultCustomDimensionSlot;if(Weevar.config.debug&&(console.groupCollapsed("[INTEGRATION] Loading Google Analytics (Experiment: "+e.name+" / Variation: "+a.name+")"),console.info("Tracker ID: "+r),console.info("Tracker Name: "+t),console.info("Dimension Slot: "+n),console.groupEnd()),r&&t&&n){Weevar.site.data.integrations.googleAnalytics.trackerName&&Weevar.site.data.integrations.googleAnalytics.trackerCreated!==!0&&(window.ga("create",r,{name:t}),Weevar.site.data.integrations.googleAnalytics.trackerCreated=!0);var i=e.name+"_"+a.name;window.ga(t+".set","dimension"+n,i),window.ga(t+".send","event","Experiments",e.name,a.name,{nonInteraction:1})}}},Weevar.integrateHotjar=function(e,a){Weevar.site.data.integrations.hotjar&&(Weevar.config.debug&&(console.groupCollapsed("[INTEGRATION] Loading Hotjar (Experiment: "+e.name+" / Variation: "+a.name+")"),console.groupEnd()),window.hj||(window.hj=window.hj||function(){(hj.q=hj.q||[]).push(arguments)}),1==Weevar.site.data.integrations.hotjar.tag&&hj("tagRecording",[e.name+"_"+a.name]),1==Weevar.site.data.integrations.hotjar.trigger&&hj("trigger",e.name))},Weevar.setGoogleAnalyticsObjectName=function(e){Weevar.config.integrations.googleAnalytics=e},Weevar.setHotjarObjectName=function(e){Weevar.config.integrations.hotjar=e},Weevar.qualifyIntegrations=function(e,a){Weevar.qualifyStatus(e)&&setTimeout(function(){Weevar.integrateGoogleAnalytics(e,a),Weevar.integrateHotjar(e,a)},1500)},Weevar.getElementQuery=function(e,a){return"class"===e?"document.getElementsByClassName('"+a+"')":"tag"===e?"document.getElementsByTagName('"+a+"')":"id"===e?"document.getElementById('"+a+"')":"query"===e?"document.querySelectorAll('"+a+"')":void 0},Weevar.checkElement=function(e){return!(!e||!(e.length>0||void 0!=e.innerHTML))},Weevar.getSelector=function(e,a){var r="";return"class"===e&&(r="."),"tag"===e&&(r=""),"id"===e&&(r="#"),"query"===e&&(r=a),r+a},Weevar.waitFor=function(selectorType,selectorName,action,hideElement){if(hideElement){var selector=Weevar.getSelector(selectorType,selectorName),hideElementStyle=document.createElement("style");hideElementStyle.innerHTML=selector+"{visibility:hidden;}",document.getElementsByTagName("head")[0].append(hideElementStyle)}var element,waiter,elementPresent,elementQuery=Weevar.getElementQuery(selectorType,selectorName);waiter=setInterval(function(){element=eval(elementQuery),(elementPresent=Weevar.checkElement(element))&&(clearInterval(waiter),action(element),hideElementStyle&&hideElementStyle.parentNode.removeChild(hideElementStyle))},50),setTimeout(function(){hideElementStyle&&hideElementStyle.parentNode&&hideElementStyle.parentNode.removeChild(hideElementStyle)},2e3),setTimeout(function(){clearInterval(waiter)},3e4)},Weevar.hideAndClone=function(e){var a=e.cloneNode(!0);return e.parentNode.insertBefore(a,e),e.parentNode.removeChild(e),a},Weevar.checkIfUserIsAlreadyInVariation=function(e,a){if(a!==!1&&void 0!==a){if(null!=e.variations.data[a])return a=e.variations.data[a],!0;if(!a&&Weevar.hasExperimentInStorage(e))return a=Weevar.qualifyStorage(e),!0}return!1},Weevar.checkIfExperimentHasVariations=function(e){return null!=e.variations&&null!=e.variations.data&&e.variations.data.length>0},Weevar.runExperiment=function(experiment,variation){return!Weevar.alreadyRunning(experiment)&&(Weevar.config.debug&&console.groupCollapsed("[LOADING] Experiment "+experiment.name+" / "+variation.name+"..."),eval(experiment.javascript),eval(variation.javascript),experiment.running=!0,variation.running=!0,Weevar.store(Weevar.config.cookie.key+experiment.id,variation.id),Weevar.env.visitor.variations.push(variation.id),1==experiment.trackOnLoad&&(Weevar.config.debug&&console.log("Activate tracking on load..."),Weevar.qualifyIntegrations(experiment,variation)),Weevar.config.debug&&(console.info("Loaded."),console.groupEnd()),!0)},Weevar.initializeExperiment=function(e,a){if(a=a||!1,!Weevar.checkIfExperimentHasVariations(e))return!1;if(!Weevar.checkIfUserIsAlreadyInVariation(e,a))for(var r=Weevar.getExperimentBucket(),t=0;t<e.variations.data.length;t++)Weevar.isBetween(r,e.variations.data[t].trafficPercentage[0],e.variations.data[t].trafficPercentage[1])&&(a=t);return a=e.variations.data[a],Weevar.runExperiment(e,a),!0},Weevar.initialize=function(){Weevar.config.debug=Weevar.site.data.debug||!1,Weevar.config.debug&&(console.groupCollapsed("[INIT] Initializing Weevar"),console.log(Weevar.site.data.experiments.data.length+" experiments available."),console.groupEnd());for(var e=Weevar.site.data.experiments.data.sort(function(e,a){return e.status<a.status}),a=0;a<e.length;a++){var r=e[a],t=!1;if(Weevar.qualifyForcedQueryParams(r))Weevar.qualifyUrl(r)&&Weevar.qualifyViewport(r)&&Weevar.qualifyUserAgent(r)?(Weevar.config.debug&&Weevar.debugQualification(r,!0,!0),t=r.variations.data[Weevar.env.visitor.forcedQueryParams.variation],Weevar.runExperiment(r,t)):Weevar.config.debug&&Weevar.debugQualification(r,!1,!0,!0);else if(Weevar.qualifyUrl(r)&&Weevar.qualifyViewport(r)&&Weevar.qualifyUserAgent(r)){if(Weevar.qualifyTrafficRange(r)&&Weevar.qualifyStatus(r)){Weevar.config.debug&&Weevar.debugQualification(r,!0),t=Weevar.qualifyStorage(r),Weevar.initializeExperiment(r,t);continue}Weevar.config.debug&&Weevar.debugQualification(r,!1,!1,!0)}else Weevar.config.debug&&Weevar.debugQualification(r,!1,!1,!0)}Weevar.initialized=!0},Weevar.debugQualification=function(e,a,r,t){a=a||!1,r=r||!1;var n="";n+=r?"[FORCED] ":"[ORGANIC] ",n+=a?"Visitor qualifies for experiment "+e.name+".":"Visitor does not qualify for experiment "+e.name+".",console.groupCollapsed(n),console.log("Is this experiment forced by query params?"),console.log(1==r),console.log("Is the URL qualified?\n"),console.log(1==Weevar.qualifyUrl(e)),console.log("Is the viewport qualified?"),console.log(1==Weevar.qualifyViewport(e)),console.log("Is the user agent qualified?"),console.log(1==Weevar.qualifyUserAgent(e)),console.log("Is the visitor qualified for the traffic range? "),console.log(1==Weevar.qualifyTrafficRange(e)),console.log("Is the experiment running?"),console.log(1==Weevar.qualifyStatus(e)),console.log(),console.groupEnd()},Weevar.checkDoNotTrackSetting=function(){return"unspecified"!=window.navigator.doNotTrack&&(window.navigator.doNotTrack||0)},Weevar.env.visitor.forcedQueryParams=Weevar.checkForcedQueryParams(),Weevar.env.visitor.bucket=Weevar.getTrafficBucket(),Weevar.env.visitor.doNotTrack=window.navigator.doNotTrack||0,Weevar.site.data&&Weevar.site.data.experiments&&Weevar.site.data.experiments.data&&0==Weevar.env.visitor.doNotTrack&&Weevar.initialize()}(window,document);